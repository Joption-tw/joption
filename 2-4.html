<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>BOOM! ä¿è­‰é‡‘èˆ‡æ¬Šåˆ©é‡‘ | æ­å¤§é¸æ“‡æ¬Šæ•™å®¤</title>
    <!-- å¼•å…¥ Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- å¼•å…¥ Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bangers&family=Noto+Sans+TC:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --c-bg: #F1F5F9; 
            --c-primary: #EAB308; /* å·¥æ¥­é»ƒ */
            --c-secondary: #3B82F6; /* ç§‘æŠ€è— */
            --c-danger: #EF4444; /* è­¦æˆ’ç´… */
            --c-success: #22C55E; /* å®‰å…¨ç¶  */
            --c-dark: #0F172A; 
        }

        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: var(--c-bg);
            color: var(--c-dark);
            background-image: repeating-linear-gradient(
                45deg,
                #E2E8F0 0,
                #E2E8F0 2px,
                transparent 2px,
                transparent 12px
            );
            background-attachment: fixed;
            -webkit-tap-highlight-color: transparent;
        }

        .font-comic {
            font-family: 'Bangers', 'Noto Sans TC', cursive;
            letter-spacing: 0.05em;
        }

        .pop-card {
            border: 4px solid var(--c-dark);
            border-radius: 1rem;
            background-color: white;
            box-shadow: 8px 8px 0px var(--c-dark);
        }

        .capsule-container {
            background: white;
            border: 4px solid var(--c-dark);
            border-radius: 9999px;
            box-shadow: 0 6px 0 var(--c-dark);
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
        }

        /* äº’å‹•æ‹‰æ¡¿æ¨£å¼ */
        input[type=range] {
            -webkit-appearance: none;
            width: 100%;
            background: transparent;
        }
        input[type=range]:focus { outline: none; }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 44px;
            width: 44px;
            border-radius: 50%;
            background: var(--c-primary);
            cursor: pointer;
            margin-top: -16px;
            border: 4px solid var(--c-dark);
            box-shadow: 0 4px 0 var(--c-dark);
        }
        input[type=range]::-webkit-slider-runnable-track {
            width: 100%;
            height: 14px;
            cursor: pointer;
            background: var(--c-dark);
            border-radius: 10px;
        }

        /* è­¦å ±å‹•ç•« */
        @keyframes siren {
            0% { background-color: white; }
            50% { background-color: #FEE2E2; border-color: var(--c-danger); }
            100% { background-color: white; }
        }
        .alert-siren {
            animation: siren 0.8s infinite;
        }

        /* æ–æ™ƒå‹•ç•« (æ–·é ­ç”¨) */
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            20%, 60% { transform: translateX(-5px); }
            40%, 80% { transform: translateX(5px); }
        }
        .shake-dead {
            animation: shake 0.3s infinite;
            background-color: var(--c-danger) !important;
            color: white !important;
        }

        @media (max-width: 640px) {
            .capsule-container { border-radius: 1.5rem; padding: 0.75rem; border-width: 3px; }
            .pop-card { border-width: 3px; box-shadow: 6px 6px 0px var(--c-dark); }
            input[type=range]::-webkit-slider-thumb { height: 36px; width: 36px; margin-top: -12px; }
        }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center p-4 md:p-8 w-full max-w-[100vw] overflow-x-hidden">

    <!-- é é¦– -->
    <header class="w-full flex justify-center mb-10 md:mb-16">
        <div class="capsule-container py-3 px-6 max-w-2xl flex-row gap-4">
            <div class="w-12 h-12 md:w-16 md:h-16 rounded-xl border-2 border-[var(--c-dark)] overflow-hidden bg-white shrink-0">
                <img src="IPæ¨™ç±¤.jpg" alt="Logo" class="w-full h-full object-cover" onerror="this.src='https://placehold.co/100x100/EAB308/000000?text=J&font=Bangers'">
            </div>
            <div class="flex flex-col">
                <h1 class="text-xl md:text-3xl font-black text-[var(--c-dark)] leading-tight">æ­å¤§é¸æ“‡æ¬Šæ•™å®¤</h1>
                <p class="text-[10px] md:text-sm font-black text-gray-500 tracking-widest font-comic uppercase">JOPTION ACADEMY</p>
            </div>
        </div>
    </header>

    <main class="w-full max-w-5xl flex flex-col gap-12 md:gap-20">
        
        <!-- å¤§æ¨™é¡Œ -->
        <div class="text-center px-2">
            <div class="inline-block bg-[var(--c-dark)] text-white px-6 md:px-12 py-5 pop-card transform rotate-1 relative">
                <div class="absolute -top-6 -left-6 md:-top-10 md:-left-10 text-5xl md:text-7xl transform -rotate-12 drop-shadow-md">ğŸ’°</div>
                <h2 class="text-3xl md:text-6xl font-black font-comic">MARGIN vs PREMIUM</h2>
                <div class="mt-3 text-sm md:text-2xl font-bold bg-[var(--c-primary)] text-[var(--c-dark)] px-4 py-1 inline-block rounded-lg transform -rotate-2 border-2 border-[var(--c-dark)] shadow-[4px_4px_0_#fff]">
                    å¸‚å ´çš„é–€ç¥¨èˆ‡æŠ¼é‡‘
                </div>
            </div>
        </div>

        <!-- è§€å¿µå°æ¯” -->
        <section class="grid grid-cols-1 md:grid-cols-2 gap-8 px-2 md:px-0">
            <!-- æ¬Šåˆ©é‡‘ -->
            <div class="bg-white pop-card p-6 md:p-8 flex flex-col h-full border-l-[12px] border-l-[var(--c-secondary)]">
                <div class="flex items-center gap-4 mb-4">
                    <span class="text-4xl">ğŸŸï¸</span>
                    <h3 class="text-2xl md:text-3xl font-black text-[var(--c-secondary)]">æ¬Šåˆ©é‡‘</h3>
                </div>
                <p class="text-lg font-bold text-gray-700 leading-relaxed mb-6">
                    ç­‰æ–¼<span class="bg-blue-100 px-1 underline">é›»å½±ç¥¨ / ä¿éšªè²»</span>ã€‚<br>
                    é€™æ˜¯é¸æ“‡æ¬Šçš„ã€Œå”®åƒ¹ã€ã€‚è²·æ–¹æ”¯ä»˜å®ƒä¾†ç²å¾—æ¬Šåˆ©ï¼Œè³£æ–¹æ”¶ä¸‹å®ƒä½œç‚ºè£œå„Ÿã€‚
                </p>
                <div class="mt-auto bg-blue-50 p-4 border-2 border-dashed border-[var(--c-secondary)] rounded-xl text-xs font-bold text-blue-700">
                    è²·æ–¹ï¼šæ”¯ä»˜é€™ç­†éŒ¢ï¼Œæœ€å¤šè³ å…‰ã€‚
                </div>
            </div>

            <!-- ä¿è­‰é‡‘ -->
            <div class="bg-white pop-card p-6 md:p-8 flex flex-col h-full border-l-[12px] border-l-[var(--c-primary)]">
                <div class="flex items-center gap-4 mb-4">
                    <span class="text-4xl">ğŸ¦</span>
                    <h3 class="text-2xl md:text-3xl font-black text-[var(--c-primary)] drop-shadow-[1px_1px_0_#000]">ä¿è­‰é‡‘</h3>
                </div>
                <p class="text-lg font-bold text-gray-700 leading-relaxed mb-6">
                    ç­‰æ–¼<span class="bg-yellow-100 px-1 underline">ç§Ÿæˆ¿æŠ¼é‡‘ / è²¡åŠ›è­‰æ˜</span>ã€‚<br>
                    é€™æ˜¯è³£æ–¹å°ˆå±¬çš„åˆ¶åº¦ã€‚ç‚ºäº†é˜²æ­¢è³£æ–¹è³ éŒ¢è·‘è·¯ï¼Œäº¤æ˜“æ‰€æœƒé æ‰£ä¸€ç­†æŠ¼é‡‘ã€‚
                </p>
                <div class="mt-auto bg-yellow-50 p-4 border-2 border-dashed border-[var(--c-primary)] rounded-xl text-xs font-bold text-yellow-700">
                    è³£æ–¹ï¼šå¤§ç›¤èµ°å‹¢ä¸åˆ©æ™‚ï¼ŒæŠ¼é‡‘éœ€æ±‚æœƒæš´å¢ï¼
                </div>
            </div>
        </section>

        <!-- è³£æ–¹ç”Ÿå­˜æ¨¡æ“¬å™¨ -->
        <section class="flex flex-col items-center mt-10">
            <h3 class="text-2xl md:text-4xl font-black mb-6 text-[var(--c-dark)] font-comic">ğŸ•¹ï¸ SELLER SURVIVAL SIMULATOR</h3>
            
            <div class="w-full bg-[#1E293B] pop-card p-4 md:p-10 border-t-[12px] border-t-[var(--c-primary)]">
                <div class="bg-white/10 p-4 rounded-xl mb-8 text-white font-bold text-sm md:text-base text-center">
                    æœ¬é‡‘ 10 è¬ï¼Œè³£å‡º 30000 é» Call (æ”¶ 150 é»)ã€‚<br class="hidden md:block">
                    è§€å¯Ÿå¤§ç›¤æš´æ¼²èˆ‡æ™‚é–“æµé€å°ç¶­æŒç‡çš„è¡æ“Šï¼
                </div>

                <!-- é›™æ‹‰æ¡¿æ§åˆ¶ -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-10">
                    <!-- å¤§ç›¤ -->
                    <div class="bg-white border-4 border-[var(--c-dark)] rounded-2xl p-5 shadow-[4px_4px_0_var(--c-danger)]">
                        <div class="flex justify-between items-center mb-4">
                            <span class="text-sm font-black text-gray-500">ğŸ“ˆ å¤§ç›¤èµ°å‹¢ï¼š</span>
                            <span id="indexDisplay" class="text-3xl font-black text-[var(--c-danger)] font-comic">30000</span>
                        </div>
                        <input type="range" id="indexSlider" min="29500" max="32000" step="50" value="30000">
                    </div>
                    <!-- æ™‚é–“ -->
                    <div class="bg-white border-4 border-[var(--c-dark)] rounded-2xl p-5 shadow-[4px_4px_0_var(--c-secondary)]">
                        <div class="flex justify-between items-center mb-4">
                            <span class="text-sm font-black text-gray-500">â³ ç¶“éæ™‚é–“ï¼š</span>
                            <span class="text-3xl font-black text-[var(--c-secondary)] font-comic"><span id="daysDisplay">0</span> å¤©</span>
                        </div>
                        <input type="range" id="daysSlider" min="0" max="14" step="1" value="0">
                    </div>
                </div>

                <!-- å„€è¡¨æ¿ -->
                <div id="dashboard" class="bg-[#0F172A] border-4 border-[#334155] rounded-3xl p-6 md:p-10 relative overflow-hidden transition-all duration-300">
                    <div id="statusStamp" class="absolute top-4 right-4 bg-[var(--c-success)] text-white font-black px-4 py-2 rounded-xl transform rotate-12 border-2 border-white shadow-lg text-xl md:text-3xl z-10">
                        å®‰å…¨ SAFE
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 relative z-0">
                        <div class="text-center">
                            <p class="text-[10px] text-gray-500 font-black mb-1">å¸³æˆ¶ç¸½è³‡é‡‘</p>
                            <div id="equityDisplay" class="text-3xl font-black text-white">$107,500</div>
                        </div>
                        <div class="text-center">
                            <p class="text-[10px] text-gray-500 font-black mb-1">æ‡‰ä»˜ä¿è­‰é‡‘</p>
                            <div id="marginDisplay" class="text-3xl font-black text-gray-400">$48,000</div>
                        </div>
                        <div class="text-center">
                            <p class="text-[10px] text-gray-500 font-black mb-1">å¸³é¢æç›Š</p>
                            <div id="pnlDisplay" class="text-3xl font-black text-[var(--c-success)]">+$7,500</div>
                        </div>
                        <div id="ratioBox" class="text-center bg-white/5 rounded-2xl p-4 border-2 border-[var(--c-success)]">
                            <p class="text-[10px] text-gray-500 font-black mb-1">ç¶­æŒç‡</p>
                            <div id="ratioDisplay" class="text-4xl font-black text-[var(--c-success)]">224%</div>
                        </div>
                    </div>

                    <!-- é€²åº¦æ¢ -->
                    <div class="mt-10">
                        <div class="w-full bg-gray-800 h-6 rounded-full border-2 border-gray-700 relative overflow-hidden">
                            <div class="absolute left-[25%] top-0 bottom-0 w-1 bg-white/20 z-10"></div>
                            <div class="absolute left-[50%] top-0 bottom-0 w-1 bg-white/20 z-10"></div>
                            <div id="healthBar" class="h-full bg-[var(--c-success)] transition-all duration-300 w-full"></div>
                        </div>
                        <div class="flex justify-between text-[10px] font-black text-gray-500 mt-2 uppercase tracking-widest">
                            <span>0% æ–·é ­</span>
                            <span>100% è¿½ç¹³ç·š</span>
                            <span>å®‰å…¨å€</span>
                        </div>
                    </div>

                    <div id="teachingText" class="mt-8 bg-white/10 p-5 rounded-2xl text-sm font-bold text-gray-300 border-l-4 border-[var(--c-primary)]">
                        å¸³æˆ¶è³‡é‡‘å……è£•ã€‚åªè¦å¤§ç›¤ä¸ç™¼ç”Ÿæš´æ¼²ï¼Œä½ å°±èƒ½é æ™‚é–“æµé€ç©©ç©©ç²åˆ©ã€‚
                    </div>
                </div>
            </div>
        </section>

        <!-- åè©é‡æ¸…è¡¨æ ¼ -->
        <section class="flex flex-col items-center">
            <h3 class="text-2xl md:text-4xl font-black mb-6 text-[var(--c-dark)] font-comic">ğŸ“š FUND TERMINOLOGY</h3>
            <div class="w-full overflow-x-auto px-2">
                <div class="min-w-[600px] bg-white pop-card p-0 overflow-hidden">
                    <table class="w-full text-left">
                        <thead>
                            <tr class="bg-[var(--c-dark)] text-white font-black">
                                <th class="p-4">å°ˆæœ‰åè©</th>
                                <th class="p-4">ç™½è©±è§£é‡‹</th>
                                <th class="p-4">å½±éŸ¿</th>
                            </tr>
                        </thead>
                        <tbody class="text-sm md:text-base font-bold divide-y-2">
                            <tr class="hover:bg-blue-50">
                                <td class="p-4"><span class="bg-[var(--c-secondary)] text-white px-2 py-1 rounded">æ¬Šç›Šæ•¸</span></td>
                                <td class="p-4">ä½ çš„æœ¬é‡‘ + è³ºè³ </td>
                                <td class="p-4">çœŸæ­£å‰©ä¸‹çš„éŒ¢</td>
                            </tr>
                            <tr class="hover:bg-yellow-50">
                                <td class="p-4"><span class="bg-[var(--c-primary)] text-[var(--c-dark)] px-2 py-1 rounded">ç¶­æŒç‡ < 100%</span></td>
                                <td class="p-4">è·Œç ´è¦å®šçš„æŠ¼é‡‘æ°´ä½</td>
                                <td class="p-4 text-[var(--c-danger)]">ç™¼å‡ºè¿½ç¹³é€šçŸ¥ï¼</td>
                            </tr>
                            <tr class="hover:bg-red-50">
                                <td class="p-4"><span class="bg-[var(--c-dark)] text-white px-2 py-1 rounded">ç¶­æŒç‡ < 25%</span></td>
                                <td class="p-4">å¸³æˆ¶å¹¾ä¹è³ å…‰</td>
                                <td class="p-4 text-[var(--c-danger)]">æ–·é ­ (å¼·åˆ¶å¹³å€‰)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>
    </main>

    <!-- é å°¾ -->
    <footer class="w-full flex justify-center mt-20 pb-10">
        <div class="capsule-container max-w-lg py-6 px-4 flex-col text-center">
            <div class="flex items-center gap-3 mb-2">
                <img src="IPæ¨™ç±¤.jpg" class="w-8 h-8 rounded-full border border-gray-300" alt="Icon" onerror="this.style.display='none'">
                <span class="text-xl font-black font-comic">JOPTION ACADEMY</span>
            </div>
            <p class="text-[10px] md:text-xs text-gray-500 font-bold">
                Â© 2026 Joption Academy. æŠ•è³‡å¿…æœ‰é¢¨éšªï¼Œæ•™å­¸å…§å®¹åƒ…ä¾›æ•™è‚²åƒè€ƒã€‚
            </p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const indexSlider = document.getElementById('indexSlider');
            const daysSlider = document.getElementById('daysSlider');
            
            const indexTxt = document.getElementById('indexDisplay');
            const daysTxt = document.getElementById('daysDisplay');
            
            const equityTxt = document.getElementById('equityDisplay');
            const marginTxt = document.getElementById('marginDisplay');
            const pnlTxt = document.getElementById('pnlDisplay');
            const ratioTxt = document.getElementById('ratioDisplay');
            const healthBar = document.getElementById('healthBar');
            
            const dashboard = document.getElementById('dashboard');
            const ratioBox = document.getElementById('ratioBox');
            const statusStamp = document.getElementById('statusStamp');
            const teaching = document.getElementById('teachingText');

            const initialFunds = 100000;
            const strike = 30000;
            const initialPts = 150;
            const baseMargin = 48000;

            function update() {
                const index = parseInt(indexSlider.value);
                const elapsed = parseInt(daysSlider.value);
                
                indexTxt.innerText = index.toLocaleString();
                daysTxt.innerText = elapsed;

                // è³£æ–¹é‚è¼¯ï¼šé«˜è³£ä½è²·è³ºéŒ¢
                const intrinsic = Math.max(0, index - strike);
                const remaining = 14 - elapsed;
                const timeValue = Math.round(initialPts * Math.sqrt(remaining / 14));
                const currentPrice = intrinsic + timeValue;

                const pnlNtd = (initialPts - currentPrice) * 50;
                const equity = initialFunds + (initialPts * 50) + pnlNtd;
                
                let requiredMargin = baseMargin;
                if (intrinsic > 0) requiredMargin = baseMargin + (intrinsic * 40);

                const ratio = Math.max(0, Math.round((equity / requiredMargin) * 100));

                // UI æ›´æ–°
                equityTxt.innerText = `$${Math.round(equity).toLocaleString()}`;
                marginTxt.innerText = `$${Math.round(requiredMargin).toLocaleString()}`;
                pnlTxt.innerText = (pnlNtd >= 0 ? '+' : '-') + `$${Math.abs(pnlNtd).toLocaleString()}`;
                pnlTxt.style.color = pnlNtd >= 0 ? "var(--c-success)" : "var(--c-danger)";
                ratioTxt.innerText = `${ratio}%`;

                // é¡è‰²èˆ‡ç‹€æ…‹
                dashboard.className = "bg-[#0F172A] border-4 border-[#334155] rounded-3xl p-6 md:p-10 relative overflow-hidden transition-all duration-300";
                ratioBox.className = "text-center bg-white/5 rounded-2xl p-4 border-2";
                statusStamp.className = "absolute top-4 right-4 text-white font-black px-4 py-2 rounded-xl transform rotate-12 border-2 border-white shadow-lg text-xl md:text-3xl z-10";

                let barWidth = (ratio / 200) * 100;
                healthBar.style.width = `${Math.min(100, barWidth)}%`;

                if (ratio < 25) {
                    dashboard.classList.add('shake-dead');
                    statusStamp.innerText = "ğŸ’€ æ–·é ­";
                    statusStamp.style.backgroundColor = "var(--c-dark)";
                    ratioTxt.className = "text-4xl font-black text-white";
                    healthBar.style.backgroundColor = "var(--c-dark)";
                    teaching.innerHTML = "ã€æ–·é ­ç™¼ç”Ÿã€‘å¤§ç›¤æš´æ¼²å°è‡´ç¶­æŒç‡è·Œç ´ 25%ï¼Œåˆ¸å•†å·²å¼·åˆ¶å¹³å€‰ã€‚";
                } else if (ratio < 100) {
                    dashboard.classList.add('alert-siren');
                    statusStamp.innerText = "âš ï¸ è¿½ç¹³";
                    statusStamp.style.backgroundColor = "var(--c-danger)";
                    ratioTxt.className = "text-4xl font-black text-[var(--c-danger)]";
                    healthBar.style.backgroundColor = "var(--c-danger)";
                    ratioBox.classList.add('border-[var(--c-danger)]');
                    teaching.innerHTML = "ã€è­¦å ±ã€‘ç¶­æŒç‡è·Œç ´ 100%ï¼ä½ å¿…é ˆç«‹åˆ»è£œè¶³è³‡é‡‘ï¼Œå¦å‰‡é¢è‡¨è¢«æ–·é ­çš„é¢¨éšªã€‚";
                } else {
                    statusStamp.innerText = "å®‰å…¨ SAFE";
                    statusStamp.style.backgroundColor = "var(--c-success)";
                    ratioTxt.className = "text-4xl font-black text-[var(--c-success)]";
                    healthBar.style.backgroundColor = "var(--c-success)";
                    ratioBox.classList.add('border-[var(--c-success)]');
                    teaching.innerHTML = elapsed > 7 ? "æ™‚é–“åƒ¹å€¼æ­£åœ¨å¿«é€ŸèåŒ–ï¼Œç¶­æŒç‡ç©©å®šä¸Šå‡ï¼Œé€™æ˜¯è³£æ–¹æœ€æ„›çš„æ”¶ç§Ÿæ™‚åˆ»ã€‚" : "å¸³æˆ¶ç›®å‰éå¸¸å¥åº·ã€‚";
                }
            }

            indexSlider.addEventListener('input', update);
            daysSlider.addEventListener('input', update);
            update();
        });
    </script>
</body>
</html>